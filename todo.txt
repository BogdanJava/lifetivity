Add spinner and loading state to components which have forms
Improve registration logic
